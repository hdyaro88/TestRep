(this.webpackJsonpapp_user=this.webpackJsonpapp_user||[]).push([[0],[,,,function(e,t,n){e.exports={card:"PostItem_card__7lL27",flex_container:"PostItem_flex_container__2h7GP",downbar:"PostItem_downbar__Pj58R",downbar_button:"PostItem_downbar_button__Xujg_"}},function(e,t,n){e.exports={navbar:"Header_navbar__27I_4",buttons:"Header_buttons__1Av6B",navbar_button:"Header_navbar_button__3DHiZ",favbar:"Header_favbar__3WSB8",Appname:"Header_Appname__3jWJH"}},function(e,t,n){e.exports={backdrop:"modal_backdrop__1wllc",card:"modal_card___ovbO",item:"modal_item__2vHxv",buttonItem:"modal_buttonItem__1e7nG",Create_button:"modal_Create_button__31Hxc"}},function(e,t,n){e.exports={card:"Home_card__35mw7",item:"Home_item__2j9hO",buttonItem:"Home_buttonItem__gpUA_",Create_button:"Home_Create_button__3Myp9"}},,function(e,t,n){e.exports={card:"Login_card__2JQKv",item:"Login_item__yA3B9",buttonItem:"Login_buttonItem__32U2a",Login_button:"Login_Login_button__3oWkl"}},function(e,t,n){e.exports={card:"SignUp_card__2K3Sq",item:"SignUp_item__2U3gA",buttonItem:"SignUp_buttonItem__1ab02",Login_button:"SignUp_Login_button__1T8X3"}},,,,,function(e,t,n){e.exports={nopost:"Post_nopost__2OffL"}},function(e,t,n){e.exports={flex_container:"MainPage_flex_container__Ykepf",ActionButton:"MainPage_ActionButton__Wa5_3",SignIn:"MainPage_SignIn__2MZ32",SignUp:"MainPage_SignUp__2RInL"}},,,function(e,t,n){},function(e,t,n){e.exports={card:"Card_card__2sXoe"}},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(17),s=n.n(i),o=(n(24),n(2)),r=(n(25),Object(c.createContext)({update:function(){},add:function(e){}})),l=Object(c.createContext)({token:null,addUser:function(){},removeUser:function(){}}),j=n(4),b=n.n(j),d=n(18),u=n.n(d),O=n(0),m=function(e){return Object(O.jsx)("button",{onClick:e.onClick,className:"".concat(e.className," ").concat(u.a.Button),children:e.children})},h=function(e){return Object(O.jsxs)("div",{className:b.a.navbar,children:[Object(O.jsx)("div",{className:b.a.favbar,children:Object(O.jsx)("h1",{className:b.a.Appname,children:"FaceBar"})}),Object(O.jsxs)("div",{className:b.a.buttons,children:[e.ShowSignUp&&Object(O.jsx)(m,{onClick:e.onClick,className:b.a.navbar_button,children:"SignUp"}),e.ShowSignIn&&Object(O.jsx)(m,{onClick:e.onClick,className:b.a.navbar_button,children:"SignIn"}),e.isLoggedIn&&Object(O.jsx)(m,{onClick:e.onShowPost,className:b.a.navbar_button,children:"Post"}),e.isLoggedIn&&Object(O.jsx)(m,{onClick:e.onLogout,className:b.a.navbar_button,children:"Logout"})]})]})},x=n(19),f=n.n(x),g=function(e){return Object(O.jsx)("div",{className:"".concat(f.a.card," ").concat(e.className),children:e.children})},_=n(6),p=function(e){var t=Object(c.useContext)(r),n=Object(c.useState)(""),a=Object(o.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),b=j[0],d=j[1],u=Object(c.useState)(""),h=Object(o.a)(u,2),x=h[0],f=h[1],p={id:Math.random(),name:i,age:b,relation:x};return Object(O.jsx)("div",{className:_.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.add(p),s(""),f(""),d("")},children:[Object(O.jsxs)("div",{className:_.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{value:i,required:!0,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&s(t)}})]}),Object(O.jsxs)("div",{className:_.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{value:b,required:!0,type:"number",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&d(+t)}})]}),Object(O.jsxs)("div",{className:_.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{value:x,required:!0,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&f(t)}})]}),Object(O.jsx)("div",{className:_.buttonItem,children:Object(O.jsx)(m,{className:_.Create_button,children:"Create Post"})})]})})})},v=n(7),S=n.n(v),I=n(12),N=n(5),k=n.n(N),C=function(e){return Object(O.jsx)("div",{onClick:e.onClick,className:k.a.backdrop})},y=function(e){var t=Object(c.useContext)(r),n=Object(c.useState)(""),a=Object(o.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),b=j[0],d=j[1],u=Object(c.useState)(""),h=Object(o.a)(u,2),x=h[0],f=h[1];return Object(O.jsx)("div",{className:k.a.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={id:e.id,name:i,age:b,relation:x};t.update(c),s(""),f(""),d(""),e.onClick()},children:[Object(O.jsxs)("div",{className:k.a.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{value:i,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&s(t)}})]}),Object(O.jsxs)("div",{className:k.a.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{value:b,type:"number",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&d(+t)}})]}),Object(O.jsxs)("div",{className:k.a.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{value:x,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&f(t)}})]}),Object(O.jsx)("div",{className:k.a.buttonItem,children:Object(O.jsx)(m,{className:k.a.Create_button,children:"Submit"})})]})})})},L=function(e){return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(C,{onClick:e.onClose}),Object(O.jsx)(y,{id:e.id,onClick:e.onClose})]})},w=n(3),P=n.n(w),U=function(e){var t=Object(c.useContext)(r),n=Object(c.useState)(!1),i=Object(o.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),d=b[0],u=b[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)("div",{onClick:function(){l(!s)},className:P.a.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("div",{className:P.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.name})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.age})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.relation})})]})})}),s&&Object(O.jsx)("div",{className:P.a.card,children:Object(O.jsxs)(g,{className:P.a.downbar,children:[Object(O.jsx)(m,{onClick:function(){u(!0)},className:P.a.downbar_button,children:"Edit"}),d&&Object(O.jsx)(L,{onClose:function(){u(!1)},id:e.id}),Object(O.jsx)(m,{onClick:function(){t.delete(e.id)},className:P.a.downbar_button,children:"Delete"})]})})]})},A=function(){return Object(O.jsx)("div",{className:P.a.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("div",{className:P.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Name"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Age"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Relation"})})})]})})})},W=n(14),H=n.n(W),R=function(e){var t=Object(c.useContext)(l),n=Object(c.useContext)(r),a=Object(c.useState)(!1),i=Object(o.a)(a,2),s=i[0],j=i[1],b=function(){var e=Object(I.a)(S.a.mark((function e(){var c,a,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch("https://auth-9ff9e-default-rtdb.firebaseio.com/".concat(t.token,".json"));case 3:return c=e.sent,e.next=6,c.json();case 6:for(s in a=e.sent,i=[],a)null!=a[s]&&i.push({id:s,name:a[s].name,age:a[s].age,relation:a[s].relation});n.getlist(i),j(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){0===n.items.length&&b()}),[]),document.body.style.marginTop="6rem",Object(O.jsxs)("div",{children:[Object(O.jsx)(A,{}),s&&0===n.items.length&&Object(O.jsx)("h1",{className:H.a.nopost,children:"Loading Post..."}),!s&&0===n.items.length&&Object(O.jsx)("h1",{className:H.a.nopost,children:"No Posts Yet"}),n.items.map((function(e){return Object(O.jsx)(U,{id:e.id,name:e.name,age:e.age,relation:e.relation},e.id)}))]})},T=n(8),B=n.n(T),q=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),i=Object(c.useState)(!1),s=Object(o.a)(i,2),r=s[0],j=s[1],b=Object(c.useContext)(l);return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(h,{onClick:e.onSignUp,ShowSignIn:!1,ShowSignUp:!0}),Object(O.jsx)("div",{className:B.a.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("form",{onSubmit:function(c){c.preventDefault();var a=function(){var t=Object(I.a)(S.a.mark((function t(){var n,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAz3RXmmWWjOWJqInL8kZslzfOhPUUpSBs",t.next=4,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAz3RXmmWWjOWJqInL8kZslzfOhPUUpSBs",{method:"POST",body:JSON.stringify({email:i,password:s,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("Athuentication Failed");case 7:return t.next=9,n.json();case 9:c=t.sent,e.onLoggin(),b.token=c.localId.toString(),localStorage.setItem("isLoggedIn",b.token),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),i=t.current.value,s=n.current.value;j(!0),a()},children:[Object(O.jsxs)("div",{className:B.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{ref:t,type:"email",required:"@"})]}),Object(O.jsxs)("div",{className:B.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{ref:n,type:"password",required:!0})]}),Object(O.jsxs)("div",{className:B.a.buttonItem,children:[r&&Object(O.jsx)("p",{children:"Logging ..."}),!r&&Object(O.jsx)(m,{className:B.a.Login_button,children:"Login"})]})]})})})]})},J=n(15),E=n.n(J),z=n(9),F=n.n(z),D=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),i=Object(c.useState)(!1),s=Object(o.a)(i,2),r=s[0],l=s[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(h,{onClick:e.onSignIn,ShowSignIn:!0,ShowSignUp:!1}),Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsx)(g,{children:Object(O.jsxs)("form",{onSubmit:function(c){var a=t.current.value,i=n.current.value;c.preventDefault(),l(!0);fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAz3RXmmWWjOWJqInL8kZslzfOhPUUpSBs",{method:"POST",body:JSON.stringify({email:a,password:i,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){if(l(!1),!t.ok)return t.json().then((function(e){var t="Authentication Error";e&&e.error&&e.error.message&&(t=e.error.message),alert(t)}));e.onSubmit()}))},children:[Object(O.jsxs)("div",{className:F.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:t,required:!0})]}),Object(O.jsxs)("div",{className:F.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{type:"password",ref:n,required:!0})]}),Object(O.jsxs)("div",{className:F.a.buttonItem,children:[r&&Object(O.jsx)("p",{children:"Please Wait ..."}),!r&&Object(O.jsx)(m,{className:F.a.Login_button,children:"Register"})]})]})})})]})},M=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(!0),l=Object(o.a)(r,2),j=l[0],b=l[1],d=function(){s(!i),b(!1)};return document.body.style.marginTop="6rem",Object(O.jsx)(a.a.Fragment,{children:Object(O.jsx)("div",{className:E.a.flex_container,children:Object(O.jsxs)("div",{className:E.a.ActionButton,children:[i&&Object(O.jsx)(D,{onSignIn:function(){b(!0),s(!1)},onSubmit:function(){b(!0),s(!1)},onSignUp:d}),j&&Object(O.jsx)(q,{onSignUp:d,onLoggin:e.onSignIn})]})})})};var X=function(){var e=Object(c.useContext)(r),t=(Object(c.useContext)(l),localStorage.getItem("isLoggedIn"));null===t?localStorage.setItem("isLoggedIn",0):localStorage.setItem("isLoggedIn",t);var n="0"!==localStorage.getItem("isLoggedIn"),i=Object(c.useState)(n),s=Object(o.a)(i,2),j=s[0],b=s[1],d=Object(c.useState)(!1),u=Object(o.a)(d,2),m=u[0],x=u[1],f=Object(c.useState)(!n),g=Object(o.a)(f,2),_=g[0],v=g[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(h,{ShowSignIn:!1,ShowSignUp:!1,onShowPost:function(){x(!m)},onLogout:function(){localStorage.setItem("isLoggedIn","0"),e.items=[],b(!1),x(!1),v(!0)},isLoggedIn:j}),j&&m&&Object(O.jsx)(R,{isPost:m,list:e.items}),j&&!m&&Object(O.jsx)(p,{}),_&&Object(O.jsx)(M,{onSignUp:function(){v(!_)},onSignIn:function(){b(!0),x(!1),v(!1)}})]})},Z=n(16),G=function(e){var t=Object(c.useContext)(l),n=Object(c.useState)([]),a=Object(o.a)(n,2),i=a[0],s=a[1],j={items:i,getlist:function(e){s(e)},update:function(e){fetch("https://auth-9ff9e-default-rtdb.firebaseio.com/".concat(t.token,"/").concat(e.id,".json"),{method:"PATCH",body:JSON.stringify(e)});var n=i.findIndex((function(t){return t.id===e.id})),c=Object(Z.a)(i);c[n]=e,s(c)},add:function(e){fetch("https://auth-9ff9e-default-rtdb.firebaseio.com/".concat(t.token,".json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),s((function(t){return[].concat(Object(Z.a)(t),[e])}))},delete:function(e){console.log("in delete"),fetch("https://auth-9ff9e-default-rtdb.firebaseio.com/".concat(t.token,"/").concat(e,".json"),{method:"DELETE"});var n=i.filter((function(t){return t.id!==e}));s(n)}};return Object(O.jsx)(r.Provider,{value:j,children:e.children})},K=function(e){var t=Object(c.useState)("l"),n=Object(o.a)(t,2),a=n[0],i=n[1],s={token:a,addUser:function(e){i(e)},removeUser:function(){i(null)}};return Object(O.jsx)(l.Provider,{value:s,children:e.children})};s.a.render(Object(O.jsx)(K,{children:Object(O.jsx)(G,{children:Object(O.jsx)(X,{})})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.afe97f33.chunk.js.map